# Unit тести для вашого сайту з фільтрами фото

## Що таке Unit тести?

**Unit тести** - це автоматизовані тести, які перевіряють окремі частини (юніти) вашого коду на правильність роботи. Це як міні-перевірки для кожної функції.

### Приклад unit тесту:

```javascript
describe('FileHandler', () => {
    test('має правильно визначати підтримувані формати', () => {
        expect(fileHandler.isImageFile('test.jpg')).toBe(true);
        expect(fileHandler.isImageFile('test.png')).toBe(true);
        expect(fileHandler.isImageFile('test.txt')).toBe(false);
    });
});
```

## Навіщо unit тести потрібні для вашого сайту?

### 1. **Перевірка критичних функцій**
Ваш сайт має важливі функції, які можуть зламатися:
- ✅ Визначення форматів фото (`isImageFile`)
- ✅ Обробка EXIF даних
- ✅ Сортування за датою
- ✅ Обробка великих файлів

### 2. **Запобігання помилкам**
Без тестів ви можете:
- ❌ Зламати функцію при оновленні коду
- ❌ Не помітити помилку в логіці сортування
- ❌ Втратити дані користувачів

### 3. **Впевненість в коді**
Тести дають гарантію, що:
- ✅ Код працює правильно
- ✅ Зміни не ламають існуючий функціонал
- ✅ Можна безпечно додавати нові функції

## Як працюють unit тести?

### 1. **Структура тесту**
```javascript
describe('Назва компонента', () => {
    let component;

    beforeEach(() => {
        component = new Component();
    });

    test('опис того, що тестуємо', () => {
        expect(component.method()).toBe(expectedResult);
    });
});
```

### 2. **Основні перевірки**
```javascript
// Перевірка значення
expect(result).toBe(expected);

// Перевірка типу
expect(result).toBeInstanceOf(Array);

// Перевірка помилок
expect(() => function()).toThrow('Error message');

// Перевірка масиву
expect(array).toContain(item);

// Перевірка об'єкта
expect(object).toHaveProperty('key', value);
```

### 3. **Приклад з вашого проекту**
```javascript
describe('FileHandler', () => {
    test('має правильно визначати формат файлу', () => {
        expect(fileHandler.isImageFile('photo.jpg')).toBe(true);
        expect(fileHandler.isImageFile('image.png')).toBe(true);
        expect(fileHandler.isImageFile('document.txt')).toBe(false);
    });

    test('має правильно перевіряти розмір файлу', () => {
        const smallFile = { size: 1024 * 1024 }; // 1MB
        const largeFile = { size: 200 * 1024 * 1024 }; // 200MB

        expect(fileHandler.isFileSizeValid(smallFile)).toBe(true);
        expect(fileHandler.isFileSizeValid(largeFile)).toBe(false);
    });
});
```

## Типи тестів у вашому проекті

### 1. **Unit тести** - перевіряють окремі функції
- Валідація файлів
- Обробка помилок
- Математичні операції
- Перевірка вхідних даних

### 2. **Інтеграційні тести** - перевіряють взаємодію компонентів
- Повний цикл обробки фото
- Синхронізація між компонентами
- Обробка каскадних помилок

### 3. **Тести продуктивності** - перевіряють швидкість
```javascript
test('має швидко обробляти багато файлів', () => {
    const startTime = Date.now();
    
    for (let i = 0; i < 1000; i++) {
        fileHandler.validateFile({ name: `photo${i}.jpg` });
    }
    
    const endTime = Date.now();
    expect(endTime - startTime).toBeLessThan(1000); // Менше 1 секунди
});
```

## Запуск тестів

### Команди для запуску:
```bash
# Запуск всіх тестів
npm test

# Запуск тестів в режимі спостереження
npm run test:watch

# Запуск тестів з покриттям коду
npm run test:coverage
```

### Результат тестів:
```
PASS tests/simple-example.test.js
  SimpleCalculator - Демонстрація Unit тестів
    Базові математичні операції
      ✓ має правильно додавати числа (5 ms)
      ✓ має правильно віднімати числа
      ✓ має правильно множити числа
      ✓ має правильно ділити числа
    Обробка помилок
      ✓ має правильно обробляти ділення на нуль (5 ms)
      ✓ має правильно валідувати вхідні дані (1 ms)

Test Suites: 1 passed, 1 total
Tests:       10 passed, 10 total
```

## Переваги unit тестів

### 1. **Швидке виявлення помилок**
- Тести запускаються автоматично
- Помилки виявляються до релізу
- Легко знайти проблемне місце

### 2. **Безпечні зміни коду**
- Можна рефакторити без страху
- Додавати нові функції з впевненістю
- Оновлювати залежності

### 3. **Документація коду**
- Тести показують, як має працювати код
- Приклади використання функцій
- Очікувана поведінка

### 4. **Покращення якості**
- Змушує писати тестований код
- Краща архітектура
- Менше багів у продакшені

## Найкращі практики

### 1. **Один тест - одна перевірка**
```javascript
// ✅ Добре
test('має правильно додавати позитивні числа', () => {
    expect(calculator.add(2, 3)).toBe(5);
});

test('має правильно додавати негативні числа', () => {
    expect(calculator.add(-2, -3)).toBe(-5);
});

// ❌ Погано
test('має правильно додавати числа', () => {
    expect(calculator.add(2, 3)).toBe(5);
    expect(calculator.add(-2, -3)).toBe(-5);
    expect(calculator.add(0, 0)).toBe(0);
});
```

### 2. **Описові назви тестів**
```javascript
// ✅ Добре
test('має правильно обробляти файли з розширенням .jpg')

// ❌ Погано
test('test1')
```

### 3. **Тестування граничних випадків**
```javascript
test('має правильно обробляти порожні файли', () => {
    expect(fileHandler.validateFile(null)).toBe(false);
    expect(fileHandler.validateFile(undefined)).toBe(false);
    expect(fileHandler.validateFile({})).toBe(false);
});
```

### 4. **Тестування помилок**
```javascript
test('має правильно обробляти помилки', () => {
    expect(() => fileHandler.processFile(null)).toThrow('Файл не може бути null');
});
```

## Висновок

Unit тести - це потужний інструмент для забезпечення якості вашого коду. Вони:

- ✅ **Запобігають помилкам** до того, як вони потраплять до користувачів
- ✅ **Дають впевненість** при змінах коду
- ✅ **Покращують архітектуру** програми
- ✅ **Служать документацією** для розробників
- ✅ **Економлять час** на відлагодження

Для вашого сайту з фільтрами фото тести особливо важливі, оскільки ви працюєте з користувацькими даними та критичними функціями обробки файлів.
